apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
- ../../../../../../base/argo
- ../../../../../../base/argo-workflows
- extensions
- addons.applicationset.yaml

helmGlobals:
 chartHome: ../../../../../charts

helmCharts:
# https://artifacthub.io/packages/helm/argo/argo-cd
- name: argo-cd
  repo: https://argoproj.github.io/argo-helm
  version: 5.52.1
  valuesFile: ../../../../../../base/argo/values.yaml
  releaseName: argo
  includeCRDs: true
  valuesMerge: merge
  valuesInline:
    server:
      extraArgs:
      - --insecure
# https://artifacthub.io/packages/helm/argo/argo-workflows
- name: argo-workflows
  repo: https://argoproj.github.io/argo-helm
  version: 0.40.5
  valuesFile: ../../../../../../base/argo-workflows/values.yaml
  releaseName: argo-workflows